# Skills vs 数据脚本 - 重要概念区分

## ⚠️ 核心概念

很多人会混淆 **Skills** 和 **数据脚本**，但它们是完全不同的东西！

---

## Skill（完整的分析能力）

### 什么是 Skill？

Skill 是一个**完整的分析框架**，包含：

```
Skill = 大模型 + 数据获取 + 方法论 + 分析框架 + 结构化输出 + 可执行建议
```

### Skill 的组成部分

每个 skill 包含以下文件：

```
{skill-name}/
├── SKILL.md                    # 工作流程、使用说明
├── LICENSE.txt                 # 许可证
└── references/
    ├── methodology.md          # 方法论、指标定义、阈值、规则
    ├── data-queries.md         # 数据获取方式
    └── output-template.md      # 输出格式模板
```

### Skill 做什么？

以 `block-deal-monitor`（大宗交易监控）为例：

1. **读取方法论**：
   - 折溢价率如何计算？
   - 什么是建仓型信号？（折价率 -2%~-5% + 连续3天）
   - 什么是抛压型信号？（折价率 < -7% + 高占比）
   - 阈值是多少？（机构席位数 >= 3，净买入强度 >= 5%）

2. **获取数据**：
   - 调用 `block_deal_dashboard` 获取大宗交易数据
   - 获取市场统计、每日明细、活跃个股、活跃营业部

3. **应用分析框架**：
   - 计算折溢价率
   - 识别连续交易
   - 判断建仓/抛压信号
   - 评估流动性风险

4. **生成结构化报告**：
   - 结论摘要（3-5条）
   - 榜单/样本表
   - 信号解读
   - 风险与验证清单
   - 风险提示

5. **提供可执行建议**：
   - 需要核验的问题
   - 交叉验证建议（资金流、股东减持）
   - 后续跟踪清单

### 如何使用 Skill？

**在 Kiro 中直接提问**：

```
你：帮我分析一下最近的大宗交易情况

Kiro 会：
1. 识别你需要 block-deal-monitor skill
2. 读取 SKILL.md 了解工作流程
3. 读取 methodology.md 了解方法论
4. 调用数据脚本获取数据
5. 应用分析框架（折溢价、连续性、承接验证）
6. 按照 output-template.md 生成报告
7. 提供风险提示和改进建议
```

**这才是完整的 Skill！**

---

## 数据脚本（底层工具）

### 什么是数据脚本？

数据脚本只是 **数据获取工具**，是 Skill 的底层依赖：

```
数据脚本 = 调用 API + 返回 JSON 数据
```

### 数据脚本做什么？

以 `block_deal_dashboard` 为例：

```bash
.venv/bin/python3 China-market/findata-toolkit-cn/scripts/views_runner.py block_deal_dashboard
```

**输出**：
```json
{
  "meta": {...},
  "data": {
    "market_stats": {...},
    "daily_stats": {...},
    "daily_detail": {...},
    "active_stocks": {...},
    "active_brokers": {...}
  },
  "warnings": [],
  "errors": []
}
```

**仅此而已！**

### 数据脚本不做什么？

- ❌ 不计算折溢价率
- ❌ 不识别建仓/抛压信号
- ❌ 不应用分析框架
- ❌ 不生成结构化报告
- ❌ 不提供风险提示
- ❌ 不提供改进建议

### 什么时候用数据脚本？

**适用场景**：
- 你想自己编写分析代码
- 你要导出数据到 Excel、数据库等
- 你在开发或调试数据接口
- 你需要批量处理数据
- 你是高级用户/开发者

**不适用场景**：
- 你想要完整的分析报告 → 用 Skill（在 Kiro 中提问）
- 你想要投资建议 → 用 Skill
- 你想要风险提示 → 用 Skill
- 你不懂如何分析数据 → 用 Skill

---

## 对比表格

| 特性 | Skill（在 Kiro 中使用） | 数据脚本（直接运行） |
|------|----------------------|------------------|
| **数据获取** | ✅ | ✅ |
| **方法论应用** | ✅ 读取 methodology.md | ❌ |
| **指标计算** | ✅ 折溢价、连续性等 | ❌ |
| **规则判断** | ✅ 建仓/抛压信号 | ❌ |
| **分析框架** | ✅ 完整的分析流程 | ❌ |
| **风险提示** | ✅ A股特性、边界条件 | ❌ |
| **改进建议** | ✅ 可执行的建议 | ❌ |
| **结构化报告** | ✅ 按模板输出 | ❌ 只有 JSON |
| **交叉验证** | ✅ 建议其他 skills | ❌ |
| **输出格式** | 📝 结构化报告 | 📊 原始 JSON |
| **适合人群** | 👥 所有用户 | 👨‍💻 高级用户/开发者 |
| **学习成本** | 低（直接提问） | 高（需要懂数据分析） |

---

## 实际例子

### 例子 1：大宗交易分析

**使用 Skill（推荐）**：
```
你：帮我分析一下最近的大宗交易情况

Kiro 输出：
# 大宗交易监控分析报告

## 0) 数据口径与时间
- 数据范围：全A股市场
- 时间窗口：2026-02-14 至 2026-02-21
...

## 1) 结论摘要
1. 整体承接偏弱：大部分营业部买入后1天涨幅为负
2. 东莞地区活跃：多个东莞证券营业部表现较好
3. 需要警惕：如果配合显著折价（<-7%）+ 高成交占比（>10%），抛压风险较高
...

## 2) 营业部表现分析（Top 20）
| 排名 | 营业部名称 | 买入次数 | 1天平均涨幅 | 5天平均涨幅 |
|------|-----------|---------|------------|------------|
| 1 | 东莞证券东莞塘厦 | 1 | 2.89% | - |
...

## 3) 信号解读
- 可能建仓：数据不足，需要补充折溢价和连续性数据
- 可能抛压：整体承接偏弱，需要警惕
...

## 4) 风险与验证清单
- ✅ 需要核验：是否临近解禁/减持窗口？
- ✅ 需要核验：资金流是否转弱？
...
```

**直接运行数据脚本**：
```bash
.venv/bin/python3 China-market/findata-toolkit-cn/scripts/views_runner.py block_deal_dashboard

输出：
{
  "meta": {...},
  "data": {
    "market_stats": {...},
    "broker_ranking": [
      {"序号": 1, "营业部名称": "东莞证券东莞塘厦", "上榜后1天-平均涨幅": 2.89, ...},
      ...
    ]
  }
}
```

**看出区别了吗？**
- Skill：完整的分析报告，有结论、有建议、有风险提示
- 数据脚本：只有原始数据，需要你自己分析

---

### 例子 2：投资组合健康检查

**使用 Skill（推荐）**：
```
你：帮我做投资组合健康检查，我的持仓是：600519 20%, 000858 15%, 现金 10%

Kiro 输出：
# 投资组合健康诊断报告

## 健康评分：65/100（及格）

## 严重问题
### 问题1：单只股票占比过高
- 严重程度：警告
- 发现：600519（贵州茅台）占比20%，超过10%阈值
- 风险：个股风险过度集中，一旦暴雷损失巨大
- 建议操作：逐步减仓至10%以下，分批卖出

### 问题2：行业过度集中
- 严重程度：严重
- 发现：食品饮料行业占比35%，超过30%阈值
- 风险：行业周期风险，政策风险
- 建议操作：增加其他行业配置，考虑跨行业ETF

## 集中度分析
| 持仓 | 代码 | 权重 | 行业 | 严重程度 |
|------|------|------|------|---------|
| 贵州茅台 | 600519 | 20% | 食品饮料 | 警告 |
| 五粮液 | 000858 | 15% | 食品饮料 | 关注 |

## 改进建议
1. 减少贵州茅台至10%以下
2. 增加其他行业配置（如科技、医药）
3. 考虑增加ETF分散风险
...
```

**数据脚本**：
- ❌ 没有对应的数据脚本！
- ❌ 组合健康检查需要复杂的计算和分析
- ❌ 必须使用 Skill（在 Kiro 中）

---

## 总结

### 什么时候用 Skill？

**几乎所有时候！**

- ✅ 你想要分析和建议
- ✅ 你想要风险提示
- ✅ 你想要结构化报告
- ✅ 你不是数据分析专家
- ✅ 你想要快速得到结论

**如何使用**：在 Kiro 中直接提问

### 什么时候用数据脚本？

**很少！**

- ⚙️ 你想自己分析数据
- ⚙️ 你要导出数据到其他工具
- ⚙️ 你在开发或调试
- ⚙️ 你是高级用户/开发者

**如何使用**：直接运行 Python 脚本

---

## 记住

**Skill 不等于数据脚本！**

- **Skill** = 完整的分析能力（大模型 + 数据 + 方法论 + 分析 + 建议）
- **数据脚本** = 底层工具（仅获取数据）

**推荐使用方式**：在 Kiro 中直接提问，享受完整的 Skill 体验！

---

最后更新：2026-02-21
